<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Manage Class Schedules</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 30px; background: #f4f4f4; }
    .container { max-width: 800px; margin: auto; background: white; padding: 20px; border-radius: 8px; }
    h1 { text-align: center; }
    form { margin-bottom: 30px; }
    label, input, button, select { display: block; width: 100%; margin-bottom: 10px; padding: 8px; }
    .schedule-item { margin-bottom: 20px; background: #f9f9f9; padding: 15px; border-radius: 6px; }
  </style>
</head>
<body>
  <div class="container">
    <h1>Upload Class Schedule</h1>
    <form action="/Staff/Management/schedules/upload" method="POST" enctype="multipart/form-data">
      <label for="classAssigned">Class Assigned:</label>
      <input type="text" name="classAssigned" id="classAssigned" required />

      <label for="scheduleFile">Schedule File (PDF or Image):</label>
      <input type="file" name="scheduleFile" id="scheduleFile" accept=".pdf,.jpg,.jpeg,.png" required />

      <button type="submit">Upload Schedule</button>
    </form>

    <h2>Posted Schedules</h2>
    <% schedules.forEach(schedule => { %>
      <div class="schedule-item">
        <p><strong>Class:</strong> <%= schedule.classAssigned %></p>
        <% if (schedule.fileType === 'pdf') { %>
          <a href="/<%= schedule.filePath %>" target="_blank">View PDF</a>
        <% } else { %>
          <img src="/<%= schedule.filePath %>" alt="Schedule Image" style="max-width: 100%; height: auto;" />
        <% } %>
        <form action="/Staff/Management/schedules/delete/<%= schedule._id %>" method="POST">
          <button type="submit">Delete</button>
        </form>
      </div>
    <% }) %>
  </div>
</body>
</html>
